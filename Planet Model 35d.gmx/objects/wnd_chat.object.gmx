<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>par_window</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();

window_width = 450;
window_height = 200;

window_local_x = 20;
window_local_y = 20;

window_closeable = true;
window_moveable = true;

window_scroll_y = true;
window_scroll_y_offset = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Quick delete

if ( keyboard_check( vk_backspace ) ) {
    chat_str = string_delete( chat_str, string_length( chat_str ), 1 );
    alarm[1] = 4;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Keyboard input

if ( keyboard_check( vk_backspace ) ) or ( keyboard_check( vk_enter ) ) or ( !keyboard_check( vk_anykey ) ) or ( obj_window_layer.window_global_mouse_over != id ) exit;

draw_set_font( fnt_smallish );
if ( string_width( chat_str + keyboard_string ) &lt; window_width - 50 ) chat_str += keyboard_string;
draw_set_font( fnt_default );

alarm[0] = 4;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Step

if ( !instance_exists( obj_server ) ) and ( !instance_exists( obj_client ) ) and ( !instance_exists( wnd_client ) ) and ( !instance_exists( wnd_server ) ) instance_destroy();

if ( obj_window_layer.window_global_mouse_over == id ) {
    if ( keyboard_check_pressed( vk_anykey ) ) {
        if ( keyboard_check_pressed( vk_backspace ) ) {
            chat_str = string_delete( chat_str, string_length( chat_str ), 1 );
            alarm[1] = 30;
        } else if ( keyboard_check_pressed( vk_enter ) ) {
            
            if ( instance_exists( obj_client ) ) with( obj_client ) scr_client_send_chat( chat_str );
            
            if ( instance_exists( obj_server ) ) {
                ds_list_add( chat, "server&gt; " + chat_str );
                with( obj_user ) scr_server_send_chat( id, "server&gt; " + chat_str );
            }
            
            chat_str = "";
            
        } else {
            event_perform( ev_alarm, 0 );
        }
    }
}

keyboard_string = "";
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="12">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw

//Draw to the window's surface
scr_window_pre_draw();

draw_set_color( c_window_text );
draw_set_font( fnt_smallish );
draw_set_halign( fa_left );

for( i = 0; i &lt; ds_list_size( chat ); i++ ) {
    if ( i * 16 - window_scroll_y_offset &lt; -20 ) or ( i * 16 - window_scroll_y_offset * window_scroll_y_scale &gt; window_height - 25 ) continue else draw_text( 5, i * 16,   string( ds_list_find_value( chat, i ) ) );
}

d3d_transform_stack_push();
d3d_transform_set_identity();

draw_set_color( c_window_background );
draw_rectangle( 0, window_height - 25, window_width, window_height, false );
draw_set_color( c_window_border );
draw_rectangle( 0, window_height - 25, window_width - 50, window_height, true );

draw_set_color( c_window_text );
draw_set_font( fnt_smallish );
draw_set_halign( fa_left );
draw_text( 5, window_height - 22, string( chat_str ) );

d3d_transform_stack_pop();
draw_set_font( fnt_default );
draw_set_color( c_white );

event_inherited();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_inherited();

window_scroll_y_scale = max( 0, ( ds_list_size( chat ) + 1 ) * 16 - window_height - 25 );
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
